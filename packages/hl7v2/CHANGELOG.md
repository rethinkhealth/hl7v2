# @rethinkhealth/hl7v2

## 0.2.18

### Patch Changes

- Updated dependencies [c439092]
- Updated dependencies [c439092]
  - @rethinkhealth/hl7v2-parser@0.2.18
  - @rethinkhealth/hl7v2-preset-lint-recommended@0.2.18
  - @rethinkhealth/hl7v2-ast@0.2.18
  - @rethinkhealth/hl7v2-decode-escapes@0.2.18
  - @rethinkhealth/hl7v2-jsonify@0.2.18

## 0.2.17

### Patch Changes

- @rethinkhealth/hl7v2-ast@0.2.17
- @rethinkhealth/hl7v2-decode-escapes@0.2.17
- @rethinkhealth/hl7v2-jsonify@0.2.17
- @rethinkhealth/hl7v2-parser@0.2.17
- @rethinkhealth/hl7v2-preset-lint-recommended@0.2.17

## 0.2.16

### Patch Changes

- @rethinkhealth/hl7v2-ast@0.2.16
- @rethinkhealth/hl7v2-decode-escapes@0.2.16
- @rethinkhealth/hl7v2-jsonify@0.2.16
- @rethinkhealth/hl7v2-parser@0.2.16
- @rethinkhealth/hl7v2-preset-lint-recommended@0.2.16

## 0.2.15

### Patch Changes

- @rethinkhealth/hl7v2-ast@0.2.15
- @rethinkhealth/hl7v2-decode-escapes@0.2.15
- @rethinkhealth/hl7v2-jsonify@0.2.15
- @rethinkhealth/hl7v2-parser@0.2.15
- @rethinkhealth/hl7v2-preset-lint-recommended@0.2.15

## 0.2.14

### Patch Changes

- Updated dependencies [5e4ff5f]
  - @rethinkhealth/hl7v2-ast@0.2.14
  - @rethinkhealth/hl7v2-decode-escapes@0.2.14
  - @rethinkhealth/hl7v2-jsonify@0.2.14
  - @rethinkhealth/hl7v2-parser@0.2.14
  - @rethinkhealth/hl7v2-preset-lint-recommended@0.2.14

## 0.2.13

### Patch Changes

- 7b1770e: Minor fixes to hl7v2
- Updated dependencies [7b1770e]
  - @rethinkhealth/hl7v2-ast@0.2.13
  - @rethinkhealth/hl7v2-decode-escapes@0.2.13
  - @rethinkhealth/hl7v2-jsonify@0.2.13
  - @rethinkhealth/hl7v2-parser@0.2.13

## 0.2.12

### Patch Changes

- 6da8dde: Minor fixes to hl7v2
  - @rethinkhealth/hl7v2-ast@0.2.12
  - @rethinkhealth/hl7v2-decode-escapes@0.2.12
  - @rethinkhealth/hl7v2-jsonify@0.2.12
  - @rethinkhealth/hl7v2-parser@0.2.12

## 0.2.11

### Patch Changes

- Updated dependencies [2b86a32]
  - @rethinkhealth/hl7v2-decode-escapes@0.2.11
  - @rethinkhealth/hl7v2-parser@0.2.11
  - @rethinkhealth/hl7v2-ast@0.2.11
  - @rethinkhealth/hl7v2-jsonify@0.2.11

## 0.2.10

### Patch Changes

- @rethinkhealth/hl7v2-decode-escapes@0.2.10
- @rethinkhealth/hl7v2-parser@0.2.10
- @rethinkhealth/hl7v2-ast@0.2.10
- @rethinkhealth/hl7v2-jsonify@0.2.10

## 0.2.9

### Patch Changes

- d7af0e6: Refactoring to improve package management and linting
- Updated dependencies [d7af0e6]
  - @rethinkhealth/hl7v2-decode-escapes@0.2.9
  - @rethinkhealth/hl7v2-jsonify@0.2.9
  - @rethinkhealth/hl7v2-parser@0.2.9
  - @rethinkhealth/hl7v2-ast@0.2.9

## 0.2.8

### Patch Changes

- @rethinkhealth/hl7v2-decode-escapes@0.2.8
- @rethinkhealth/hl7v2-parser@0.2.8
- @rethinkhealth/hl7v2-ast@0.2.8
- @rethinkhealth/hl7v2-jsonify@0.2.8

## 0.2.7

### Patch Changes

- Updated dependencies [cd49b6f]
- Updated dependencies [cd49b6f]
  - @rethinkhealth/hl7v2-jsonify@0.2.7
  - @rethinkhealth/hl7v2-parser@0.2.7
  - @rethinkhealth/hl7v2-ast@0.2.7
  - @rethinkhealth/hl7v2-decode-escapes@0.2.7

## 0.2.6

### Patch Changes

- Updated dependencies [b7ccb39]
  - @rethinkhealth/hl7v2-jsonify@0.2.6
  - @rethinkhealth/hl7v2-parser@0.2.6
  - @rethinkhealth/hl7v2-ast@0.2.6
  - @rethinkhealth/hl7v2-decode-escapes@0.2.6

## 0.2.5

### Patch Changes

- 6a4d5b8: Several improvements to the HL7v2 package, focusing on integrating the HL7v2 escape sequence decoder, enhancing test coverage with Vitest, and ensuring the parser uses default preprocessors.
- Updated dependencies [6a4d5b8]
- Updated dependencies [c2eb48c]
- Updated dependencies [09597f7]
- Updated dependencies [93d9197]
  - @rethinkhealth/hl7v2-decode-escapes@0.2.5
  - @rethinkhealth/hl7v2-parser@0.2.5
  - @rethinkhealth/hl7v2-jsonify@0.2.5
  - @rethinkhealth/hl7v2-ast@0.2.5

## 0.2.4

### Patch Changes

- Updated dependencies [28fef0d]
- Updated dependencies [b4b9944]
- Updated dependencies [28fef0d]
  - @rethinkhealth/hl7v2-ast@0.2.4
  - @rethinkhealth/hl7v2-parser@0.2.4
  - @rethinkhealth/hl7v2-jsonify@0.2.4

## 0.2.3

### Patch Changes

- 6c779c3: Fix missing first components in multicomponent fields

  Fixed a critical bug where the first component of multicomponent HL7v2 fields was being dropped from the JSON output. The issue occurred in the jsonify package's index conversion logic:

  - **Problem**: Components with 0-based indices were incorrectly converted to -1-based indices, causing `array[-1] = value` assignments that don't create valid array elements
  - **Root cause**: The conversion logic `n.index - 1` was applied to all node types, but should only apply to fields (to skip the segment header at index 0)
  - **Solution**: Components and subcomponents now preserve their original 0-based indices, while fields continue to have their indices converted for proper array positioning

  **Examples of fields that are now fixed:**

  - `ORU^R01` now correctly parses to `["ORU", "R01"]` instead of `["R01"]`
  - `PATID1234^5^M11` now correctly parses to `["PATID1234", "5", "M11"]` instead of `["5", "M11"]`

  Added comprehensive test coverage to prevent regression of this issue.

- Updated dependencies [6c779c3]
  - @rethinkhealth/hl7v2-jsonify@0.2.3
  - @rethinkhealth/hl7v2-parser@0.2.3
  - @rethinkhealth/hl7v2-ast@0.2.3

## 0.2.2

### Patch Changes

- 34c02e9: Improve documentation and clarify usage instructions in README.md
  - @rethinkhealth/hl7v2-parser@0.2.2
  - @rethinkhealth/hl7v2-jsonify@0.2.2
  - @rethinkhealth/hl7v2-ast@0.2.2

## 0.2.1

### Patch Changes

- dbd1b13: This PR improves the HL7v2 JSON conversion utilities and related packages. It enhances the `@rethinkhealth/hl7v2-jsonify` package to better handle edge cases, such as missing segment names, non-numeric indices, and deeply nested HL7 structures. The update also includes additional tests to ensure robust and predictable behavior. Patch releases are published for all related HL7v2 packages to reflect these improvements and maintain compatibility across the ecosystem.
- Updated dependencies [dbd1b13]
- Updated dependencies [d6d2bd6]
- Updated dependencies [a25e1c4]
  - @rethinkhealth/hl7v2-jsonify@0.2.1
  - @rethinkhealth/hl7v2-parser@0.2.1
  - @rethinkhealth/hl7v2-ast@0.2.1
