{"version":3,"file":"keyedPool.js","names":["Duration","_interopRequireWildcard","require","Equal","_Function","Hash","HashMap","MutableRef","Option","_Pipeable","Predicate","core","fiberRuntime","pool","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","KeyedPoolSymbolKey","KeyedPoolTypeId","exports","Symbol","for","KeyedPoolMapValueSymbol","keyedPoolVariance","_K","_","_E","_A","KeyedPoolImpl","getOrCreatePool","activePools","constructor","key","flatMap","invalidate","item","forEachSequentialDiscard","pipe","pipeArguments","arguments","Complete","_tag","symbol","string","combine","hash","cached","u","isComplete","equals","isTagged","Pending","deferred","isPending","makeImpl","min","max","timeToLive","all","context","fiberId","sync","make","empty","scopeMake","map","scope","suspend","value","getOrUndefined","undefined","uninterruptibleMask","restore","deferredUnsafeMake","previous","update","scopeExtend","makeWithTTL","acquire","provideContext","getOrElse","infinity","matchCauseEffect","onFailure","cause","current","remove","zipRight","deferredFailCause","failCause","onSuccess","as","deferredSucceed","succeed","deferredAwait","forEachSequential","toValues","options","size","none","makeWith","decode","some","makeWithTTLBy","dual","self"],"sources":["../../../src/internal/keyedPool.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}