{"version":3,"file":"FiberMap.js","names":["Cause","Deferred","Effect","Exit","Fiber","FiberId","constFalse","constVoid","dual","HashSet","Inspectable","Iterable","MutableHashMap","Option","pipeArguments","Predicate","Runtime","TypeId","Symbol","for","isFiberMap","u","hasProperty","Proto","iterator","state","_tag","empty","backing","toString","format","toJSON","_id","NodeInspectSymbol","pipe","arguments","unsafeMake","deferred","self","Object","create","make","acquireRelease","map","withFiberRuntime","parent","void","interruptAllAs","fiber","combine","id","internalFiberId","intoDeferred","makeRuntime","flatMap","runtime","makeRuntimePromise","runtimePromise","internalFiberIdId","isInternalInterruption","reduceWithContext","undefined","emptyCase","failCase","dieCase","interruptCase","_","fiberId","has","ids","sequentialCase","left","right","parallelCase","unsafeSet","args","key","options","unsafeInterruptAsFork","interruptAs","none","previous","get","onlyIfMissing","value","set","addObserver","exit","current","isSome","remove","isFailure","propagateInterruption","cause","isInterruptedOnly","unsafeDone","fiberIdWith","sync","unsafeGet","suspend","unsafeHas","removeFiber","clear","clearFiber","forEach","constInterruptedFiber","runFork","interrupt","run","isEffect","runImpl","effect","tap","forkDaemon","Promise","resolve","reject","isSuccess","squash","size","join","await","awaitEmpty","whileLoop","while","body","unsafeHead","step"],"sources":["../../src/FiberMap.ts"],"sourcesContent":[null],"mappings":"AAIA,OAAO,KAAKA,KAAK,MAAM,YAAY;AACnC,OAAO,KAAKC,QAAQ,MAAM,eAAe;AACzC,OAAO,KAAKC,MAAM,MAAM,aAAa;AACrC,OAAO,KAAKC,IAAI,MAAM,WAAW;AACjC,OAAO,KAAKC,KAAK,MAAM,YAAY;AACnC,OAAO,KAAKC,OAAO,MAAM,cAAc;AACvC,SAASC,UAAU,EAAEC,SAAS,EAAEC,IAAI,QAAQ,eAAe;AAC3D,OAAO,KAAKC,OAAO,MAAM,cAAc;AACvC,OAAO,KAAKC,WAAW,MAAM,kBAAkB;AAC/C,OAAO,KAAKC,QAAQ,MAAM,eAAe;AACzC,OAAO,KAAKC,cAAc,MAAM,qBAAqB;AACrD,OAAO,KAAKC,MAAM,MAAM,aAAa;AACrC,SAAwBC,aAAa,QAAQ,eAAe;AAC5D,OAAO,KAAKC,SAAS,MAAM,gBAAgB;AAC3C,OAAO,KAAKC,OAAO,MAAM,cAAc;AAGvC;;;;AAIA,OAAO,MAAMC,MAAM,gBAAkBC,MAAM,CAACC,GAAG,CAAC,iBAAiB,CAAC;AA0BlE;;;;AAIA,OAAO,MAAMC,UAAU,GAAIC,CAAU,IAA6BN,SAAS,CAACO,WAAW,CAACD,CAAC,EAAEJ,MAAM,CAAC;AAElG,MAAMM,KAAK,GAAG;EACZ,CAACN,MAAM,GAAGA,MAAM;EAChB,CAACC,MAAM,CAACM,QAAQ,IAAC;IACf,IAAI,IAAI,CAACC,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;MAChC,OAAOf,QAAQ,CAACgB,KAAK,EAAE;IACzB;IACA,OAAO,IAAI,CAACF,KAAK,CAACG,OAAO,CAACV,MAAM,CAACM,QAAQ,CAAC,EAAE;EAC9C,CAAC;EACDK,QAAQA,CAAA;IACN,OAAOnB,WAAW,CAACoB,MAAM,CAAC,IAAI,CAACC,MAAM,EAAE,CAAC;EAC1C,CAAC;EACDA,MAAMA,CAAA;IACJ,OAAO;MACLC,GAAG,EAAE,UAAU;MACfP,KAAK,EAAE,IAAI,CAACA;KACb;EACH,CAAC;EACD,CAACf,WAAW,CAACuB,iBAAiB,IAAC;IAC7B,OAAO,IAAI,CAACF,MAAM,EAAE;EACtB,CAAC;EACDG,IAAIA,CAAA;IACF,OAAOpB,aAAa,CAAC,IAAI,EAAEqB,SAAS,CAAC;EACvC;CACD;AAED,MAAMC,UAAU,GAAGA,CACjBR,OAAmE,EACnES,QAAoC,KACf;EACrB,MAAMC,IAAI,GAAGC,MAAM,CAACC,MAAM,CAACjB,KAAK,CAAC;EACjCe,IAAI,CAACb,KAAK,GAAG;IAAEC,IAAI,EAAE,MAAM;IAAEE;EAAO,CAAE;EACtCU,IAAI,CAACD,QAAQ,GAAGA,QAAQ;EACxB,OAAOC,IAAI;AACb,CAAC;AAED;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAO,MAAMG,IAAI,GAAGA,CAAA,KAClBvC,MAAM,CAACwC,cAAc,CACnBxC,MAAM,CAACyC,GAAG,CAAC1C,QAAQ,CAACwC,IAAI,EAAW,EAAGJ,QAAQ,IAC5CD,UAAU,CACRxB,cAAc,CAACe,KAAK,EAAE,EACtBU,QAAQ,CACT,CAAC,EACHM,GAAG,IACFzC,MAAM,CAAC0C,gBAAgB,CAAEC,MAAM,IAAI;EACjC,MAAMpB,KAAK,GAAGkB,GAAG,CAAClB,KAAK;EACvB,IAAIA,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE,OAAOxB,MAAM,CAAC4C,IAAI;EAC/CH,GAAG,CAAClB,KAAK,GAAG;IAAEC,IAAI,EAAE;EAAQ,CAAE;EAC9B,OAAOtB,KAAK,CAAC2C,cAAc,CACzBpC,QAAQ,CAACgC,GAAG,CAAClB,KAAK,CAACG,OAAO,EAAE,CAAC,GAAGoB,KAAK,CAAC,KAAKA,KAAK,CAAC,EACjD3C,OAAO,CAAC4C,OAAO,CAACJ,MAAM,CAACK,EAAE,EAAE,EAAEC,eAAe,CAAC,CAC9C,CAACjB,IAAI,CACJhC,MAAM,CAACkD,YAAY,CAACT,GAAG,CAACN,QAAQ,CAAC,CAClC;AACH,CAAC,CAAC,CACL;AAEH;;;;;;AAMA,OAAO,MAAMgB,WAAW,GAAGA,CAAA,KAazBnD,MAAM,CAACoD,OAAO,CACZb,IAAI,EAAW,EACdH,IAAI,IAAKiB,OAAO,CAACjB,IAAI,CAAC,EAAK,CAC7B;AAEH;;;;;;AAMA,OAAO,MAAMkB,kBAAkB,GAAGA,CAAA,KAahCtD,MAAM,CAACoD,OAAO,CACZb,IAAI,EAAW,EACdH,IAAI,IAAKmB,cAAc,CAACnB,IAAI,CAAC,EAAK,CACpC;AAEH,MAAMoB,iBAAiB,GAAG,CAAC,CAAC;AAC5B,MAAMP,eAAe,gBAAG9C,OAAO,CAACoC,IAAI,CAACiB,iBAAiB,EAAE,CAAC,CAAC;AAC1D,MAAMC,sBAAsB,gBAAG3D,KAAK,CAAC4D,iBAAiB,CAACC,SAAS,EAAE;EAChEC,SAAS,EAAExD,UAAU;EACrByD,QAAQ,EAAEzD,UAAU;EACpB0D,OAAO,EAAE1D,UAAU;EACnB2D,aAAa,EAAEA,CAACC,CAAC,EAAEC,OAAO,KAAK1D,OAAO,CAAC2D,GAAG,CAAC/D,OAAO,CAACgE,GAAG,CAACF,OAAO,CAAC,EAAET,iBAAiB,CAAC;EACnFY,cAAc,EAAEA,CAACJ,CAAC,EAAEK,IAAI,EAAEC,KAAK,KAAKD,IAAI,IAAIC,KAAK;EACjDC,YAAY,EAAEA,CAACP,CAAC,EAAEK,IAAI,EAAEC,KAAK,KAAKD,IAAI,IAAIC;CAC3C,CAAC;AAEF;;;;;;;AAOA,OAAO,MAAME,SAAS,gBAkClBlE,IAAI,CAAEmE,IAAI,IAAKvD,UAAU,CAACuD,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CACtCrC,IAAuB,EACvBsC,GAAM,EACN5B,KAAiC,EACjC6B,OAIa,KACL;EACR,IAAIvC,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;IAChCsB,KAAK,CAAC8B,qBAAqB,CAACzE,OAAO,CAAC4C,OAAO,CAAC4B,OAAO,EAAEE,WAAW,IAAI1E,OAAO,CAAC2E,IAAI,EAAE7B,eAAe,CAAC,CAAC;IACnG;EACF;EAEA,MAAM8B,QAAQ,GAAGrE,cAAc,CAACsE,GAAG,CAAC5C,IAAI,CAACb,KAAK,CAACG,OAAO,EAAEgD,GAAG,CAAC;EAC5D,IAAIK,QAAQ,CAACvD,IAAI,KAAK,MAAM,EAAE;IAC5B,IAAImD,OAAO,EAAEM,aAAa,KAAK,IAAI,EAAE;MACnCnC,KAAK,CAAC8B,qBAAqB,CAACzE,OAAO,CAAC4C,OAAO,CAAC4B,OAAO,EAAEE,WAAW,IAAI1E,OAAO,CAAC2E,IAAI,EAAE7B,eAAe,CAAC,CAAC;MACnG;IACF,CAAC,MAAM,IAAI8B,QAAQ,CAACG,KAAK,KAAKpC,KAAK,EAAE;MACnC;IACF;IACAiC,QAAQ,CAACG,KAAK,CAACN,qBAAqB,CAACzE,OAAO,CAAC4C,OAAO,CAAC4B,OAAO,EAAEE,WAAW,IAAI1E,OAAO,CAAC2E,IAAI,EAAE7B,eAAe,CAAC,CAAC;EAC9G;EAEAvC,cAAc,CAACyE,GAAG,CAAC/C,IAAI,CAACb,KAAK,CAACG,OAAO,EAAEgD,GAAG,EAAE5B,KAAK,CAAC;EAClDA,KAAK,CAACsC,WAAW,CAAEC,IAAI,IAAI;IACzB,IAAIjD,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;MAChC;IACF;IACA,MAAM8D,OAAO,GAAG5E,cAAc,CAACsE,GAAG,CAAC5C,IAAI,CAACb,KAAK,CAACG,OAAO,EAAEgD,GAAG,CAAC;IAC3D,IAAI/D,MAAM,CAAC4E,MAAM,CAACD,OAAO,CAAC,IAAIxC,KAAK,KAAKwC,OAAO,CAACJ,KAAK,EAAE;MACrDxE,cAAc,CAAC8E,MAAM,CAACpD,IAAI,CAACb,KAAK,CAACG,OAAO,EAAEgD,GAAG,CAAC;IAChD;IACA,IACEzE,IAAI,CAACwF,SAAS,CAACJ,IAAI,CAAC,KAElBV,OAAO,EAAEe,qBAAqB,KAAK,IAAI,GACrC,CAACjC,sBAAsB,CAAC4B,IAAI,CAACM,KAAK,CAAC,GACnC,CAAC7F,KAAK,CAAC8F,iBAAiB,CAACP,IAAI,CAACM,KAAK,CAAC,CACvC,EACD;MACA5F,QAAQ,CAAC8F,UAAU,CAACzD,IAAI,CAACD,QAAQ,EAAEkD,IAAW,CAAC;IACjD;EACF,CAAC,CAAC;AACJ,CAAC,CAAC;AAEF;;;;;;;AAOA,OAAO,MAAMF,GAAG,gBAgCZ7E,IAAI,CAAEmE,IAAI,IAAKvD,UAAU,CAACuD,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,CACtCrC,IAAuB,EACvBsC,GAAM,EACN5B,KAAiC,EACjC6B,OAGa,KAEb3E,MAAM,CAAC8F,WAAW,CACf7B,OAAO,IACNjE,MAAM,CAAC+F,IAAI,CAAC,MACVvB,SAAS,CAACpC,IAAI,EAAEsC,GAAG,EAAE5B,KAAK,EAAE;EAC1B,GAAG6B,OAAO;EACVE,WAAW,EAAEZ;CACd,CAAC,CACH,CACJ,CAAC;AAEJ;;;;;;AAMA,OAAO,MAAM+B,SAAS,gBAelB1F,IAAI,CAeN,CAAC,EAAE,CAAC8B,IAAI,EAAEsC,GAAG,KAAKtC,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,GAAGb,MAAM,CAACmE,IAAI,EAAE,GAAGpE,cAAc,CAACsE,GAAG,CAAC5C,IAAI,CAACb,KAAK,CAACG,OAAO,EAAEgD,GAAG,CAAC,CAAC;AAE/G;;;;;;AAMA,OAAO,MAAMM,GAAG,gBAeZ1E,IAAI,CAeN,CAAC,EAAE,CAAC8B,IAAI,EAAEsC,GAAG,KAAK1E,MAAM,CAACiG,OAAO,CAAC,MAAMD,SAAS,CAAC5D,IAAI,EAAEsC,GAAG,CAAC,CAAC,CAAC;AAE/D;;;;;;AAMA,OAAO,MAAMwB,SAAS,gBAelB5F,IAAI,CACN,CAAC,EACD,CAAU8B,IAAuB,EAAEsC,GAAM,KACvCtC,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,GAAG,KAAK,GAAGd,cAAc,CAACwD,GAAG,CAAC9B,IAAI,CAACb,KAAK,CAACG,OAAO,EAAEgD,GAAG,CAAC,CACrF;AAED;;;;;;AAMA,OAAO,MAAMR,GAAG,gBAeZ5D,IAAI,CACN,CAAC,EACD,CAAU8B,IAAuB,EAAEsC,GAAM,KAA6B1E,MAAM,CAAC+F,IAAI,CAAC,MAAMG,SAAS,CAAC9D,IAAI,EAAEsC,GAAG,CAAC,CAAC,CAC9G;AAED;;;;;;AAMA,OAAO,MAAMc,MAAM,gBAeflF,IAAI,CAeN,CAAC,EAAE,CAAC8B,IAAI,EAAEsC,GAAG,KACb1E,MAAM,CAAC0C,gBAAgB,CAAEyD,WAAW,IAAI;EACtC,IAAI/D,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;IAChC,OAAOxB,MAAM,CAAC4C,IAAI;EACpB;EACA,MAAME,KAAK,GAAGpC,cAAc,CAACsE,GAAG,CAAC5C,IAAI,CAACb,KAAK,CAACG,OAAO,EAAEgD,GAAG,CAAC;EACzD,IAAI5B,KAAK,CAACtB,IAAI,KAAK,MAAM,EAAE;IACzB,OAAOxB,MAAM,CAAC4C,IAAI;EACpB;EACA;EACA,OAAO1C,KAAK,CAAC2E,WAAW,CAAC/B,KAAK,CAACoC,KAAK,EAAE/E,OAAO,CAAC4C,OAAO,CAACoD,WAAW,CAACnD,EAAE,EAAE,EAAEC,eAAe,CAAC,CAAC;AAC3F,CAAC,CAAC,CAAC;AAEL;;;;AAIA,OAAO,MAAMmD,KAAK,GAAahE,IAAuB,IACpDpC,MAAM,CAAC0C,gBAAgB,CAAE2D,UAAU,IAAI;EACrC,IAAIjE,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;IAChC,OAAOxB,MAAM,CAAC4C,IAAI;EACpB;EAEA,OAAO5C,MAAM,CAACsG,OAAO,CAAClE,IAAI,CAACb,KAAK,CAACG,OAAO,EAAE,CAAC,GAAGoB,KAAK,CAAC;EAClD;EACA5C,KAAK,CAAC2E,WAAW,CAAC/B,KAAK,EAAE3C,OAAO,CAAC4C,OAAO,CAACsD,UAAU,CAACrD,EAAE,EAAE,EAAEC,eAAe,CAAC,CAAC,CAAC;AAChF,CAAC,CAAC;AAEJ,MAAMsD,qBAAqB,gBAAI;EAC7B,IAAIzD,KAAK,GAAiDa,SAAS;EACnE,OAAO,MAAK;IACV,IAAIb,KAAK,KAAKa,SAAS,EAAE;MACvBb,KAAK,GAAG9C,MAAM,CAACwG,OAAO,CAACxG,MAAM,CAACyG,SAAS,CAAC;IAC1C;IACA,OAAO3D,KAAK;EACd,CAAC;AACH,CAAC,CAAC,CAAE;AAEJ;;;;;;;AAOA,OAAO,MAAM4D,GAAG,GAkCZ,SAAAA,CAAA;EACF,MAAMtE,IAAI,GAAGH,SAAS,CAAC,CAAC,CAAC;EACzB,IAAIjC,MAAM,CAAC2G,QAAQ,CAAC1E,SAAS,CAAC,CAAC,CAAC,CAAC,EAAE;IACjC,OAAO2E,OAAO,CAACxE,IAAI,EAAEH,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,EAAEA,SAAS,CAAC,CAAC,CAAC,CAAQ;EACvE;EACA,MAAMyC,GAAG,GAAGzC,SAAS,CAAC,CAAC,CAAC;EACxB,MAAM0C,OAAO,GAAG1C,SAAS,CAAC,CAAC,CAAC;EAC5B,OAAQ4E,MAAoC,IAAKD,OAAO,CAACxE,IAAI,EAAEsC,GAAG,EAAEmC,MAAM,EAAElC,OAAO,CAAC;AACtF,CAAC;AAED,MAAMiC,OAAO,GAAGA,CACdxE,IAAuB,EACvBsC,GAAM,EACNmC,MAAgC,EAChClC,OAGC,KAED3E,MAAM,CAAC8F,WAAW,CAAE7B,OAAO,IAAI;EAC7B,IAAI7B,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;IAChC,OAAOxB,MAAM,CAACyG,SAAS;EACzB,CAAC,MAAM,IAAI9B,OAAO,EAAEM,aAAa,KAAK,IAAI,IAAIiB,SAAS,CAAC9D,IAAI,EAAEsC,GAAG,CAAC,EAAE;IAClE,OAAO1E,MAAM,CAAC+F,IAAI,CAACQ,qBAAqB,CAAC;EAC3C;EACA,OAAOvG,MAAM,CAAC8G,GAAG,CACf9G,MAAM,CAAC+G,UAAU,CAACF,MAAM,CAAC,EACxB/D,KAAK,IAAK0B,SAAS,CAACpC,IAAI,EAAEsC,GAAG,EAAE5B,KAAK,EAAE;IAAE,GAAG6B,OAAO;IAAEE,WAAW,EAAEZ;EAAO,CAAE,CAAC,CAC7E;AACH,CAAC,CAAC;AAEJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6BA,OAAO,MAAMZ,OAAO,GAeNjB,IAAuB,IAAK,MACxCpC,MAAM,CAACyC,GAAG,CACRzC,MAAM,CAACqD,OAAO,EAAK,EAClBA,OAAO,IAAI;EACV,MAAMmD,OAAO,GAAG1F,OAAO,CAAC0F,OAAO,CAACnD,OAAO,CAAC;EACxC,OAAO,CACLqB,GAAM,EACNmC,MAAgC,EAChClC,OAKa,KACX;IACF,IAAIvC,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,EAAE;MAChC,OAAO+E,qBAAqB,EAAE;IAChC,CAAC,MAAM,IAAI5B,OAAO,EAAEM,aAAa,KAAK,IAAI,IAAIiB,SAAS,CAAC9D,IAAI,EAAEsC,GAAG,CAAC,EAAE;MAClE,OAAO6B,qBAAqB,EAAE;IAChC;IACA,MAAMzD,KAAK,GAAG0D,OAAO,CAACK,MAAM,EAAElC,OAAO,CAAC;IACtCH,SAAS,CAACpC,IAAI,EAAEsC,GAAG,EAAE5B,KAAK,EAAE6B,OAAO,CAAC;IACpC,OAAO7B,KAAK;EACd,CAAC;AACH,CAAC,CACF;AAEH;;;;;;AAMA,OAAO,MAAMS,cAAc,GAAanB,IAAuB,IAc/D,MACEpC,MAAM,CAACyC,GAAG,CACRY,OAAO,CAACjB,IAAI,CAAC,EAAK,EACjBoE,OAAO,IACR,CACE9B,GAAM,EACNmC,MAAgC,EAChClC,OAEa,KAEb,IAAIqC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAC1BV,OAAO,CAAC9B,GAAG,EAAEmC,MAAM,EAAElC,OAAO,CAAC,CAACS,WAAW,CAAEC,IAAI,IAAI;EACjD,IAAIpF,IAAI,CAACkH,SAAS,CAAC9B,IAAI,CAAC,EAAE;IACxB4B,OAAO,CAAC5B,IAAI,CAACH,KAAK,CAAC;EACrB,CAAC,MAAM;IACLgC,MAAM,CAACpH,KAAK,CAACsH,MAAM,CAAC/B,IAAI,CAACM,KAAK,CAAC,CAAC;EAClC;AACF,CAAC,CAAC,CACH,CACJ;AAEH;;;;AAIA,OAAO,MAAM0B,IAAI,GAAajF,IAAuB,IACnDpC,MAAM,CAAC+F,IAAI,CAAC,MAAM3D,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,QAAQ,GAAG,CAAC,GAAGd,cAAc,CAAC2G,IAAI,CAACjF,IAAI,CAACb,KAAK,CAACG,OAAO,CAAC,CAAC;AAE/F;;;;;;;;;;;;;;;;;;;AAmBA,OAAO,MAAM4F,IAAI,GAAalF,IAAuB,IACnDrC,QAAQ,CAACwH,KAAK,CAACnF,IAAI,CAACD,QAAsC,CAAC;AAE7D;;;;;;AAMA,OAAO,MAAMqF,UAAU,GAAapF,IAAuB,IACzDpC,MAAM,CAACyH,SAAS,CAAC;EACfC,KAAK,EAAEA,CAAA,KAAMtF,IAAI,CAACb,KAAK,CAACC,IAAI,KAAK,MAAM,IAAId,cAAc,CAAC2G,IAAI,CAACjF,IAAI,CAACb,KAAK,CAACG,OAAO,CAAC,GAAG,CAAC;EACtFiG,IAAI,EAAEA,CAAA,KAAMzH,KAAK,CAACqH,KAAK,CAAC9G,QAAQ,CAACmH,UAAU,CAACxF,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;EACrDyF,IAAI,EAAExH;CACP,CAAC","ignoreList":[]}