{"version":3,"file":"FiberHandle.js","names":["Cause","_interopRequireWildcard","require","Deferred","Effect","Exit","Fiber","FiberId","_Function","HashSet","Inspectable","Option","_Pipeable","Predicate","Runtime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","isFiberHandle","u","hasProperty","Proto","toString","format","toJSON","_id","state","NodeInspectSymbol","pipe","pipeArguments","arguments","unsafeMake","deferred","self","create","_tag","fiber","undefined","make","acquireRelease","map","handle","withFiberRuntime","parent","void","intoDeferred","asVoid","interruptAs","combine","id","internalFiberId","done","makeRuntime","flatMap","runtime","makeRuntimePromise","runtimePromise","internalFiberIdId","isInternalInterruption","reduceWithContext","emptyCase","constFalse","failCase","dieCase","interruptCase","_","fiberId","ids","sequentialCase","left","right","parallelCase","unsafeSet","dual","args","options","unsafeInterruptAsFork","none","onlyIfMissing","addObserver","exit","isFailure","propagateInterruption","cause","isInterruptedOnly","unsafeDone","fiberIdWith","sync","unsafeGet","fromNullable","suspend","clear","uninterruptibleMask","restore","zipRight","constInterruptedFiber","runFork","interrupt","run","isEffect","runImpl","effect","tap","forkDaemon","Promise","resolve","reject","isSuccess","value","squash","join","await","awaitEmpty"],"sources":["../../src/FiberHandle.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}