{"version":3,"file":"subscriptionRef.js","names":["Effect","_interopRequireWildcard","require","Effectable","_Function","PubSub","Readable","Ref","Subscribable","Synchronized","circular_","ref_","stream","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","SubscriptionRefSymbolKey","SubscriptionRefTypeId","exports","Symbol","for","subscriptionRefVariance","_A","_","SubscriptionRefImpl","Class","ref","pubsub","semaphore","TypeId","RefTypeId","refVariance","SynchronizedRefTypeId","synchronizedVariance","constructor","commit","changes","pipe","flatMap","a","map","fromPubSub","scoped","s","concat","make","withPermits","unwrapScoped","modify","modifyEffect","succeed","b","as","zipLeft","publish","self","value","all","unbounded","makeSemaphore","dual"],"sources":["../../../src/internal/subscriptionRef.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}