{"version":3,"file":"rcRef.js","names":["Context","Duration","Effectable","identity","Readable","coreEffect","core","circular","fiberRuntime","TypeId","Symbol","for","stateEmpty","_tag","stateClosed","variance","_A","_E","RcRefImpl","Class","acquire","context","scope","idleTimeToLive","state","semaphore","unsafeMakeSemaphore","constructor","get","commit","make","options","withFiberRuntime","fiber","getFiberRef","currentContext","scopeTag","ref","decode","undefined","as","addFinalizer","withPermits","suspend","close","scopeClose","exitVoid","void","self_","self","uninterruptibleMask","restore","interrupt","refCount","interruptFiber","succeed","scopeMake","pipe","bindTo","bind","fiberRefLocally","add","map","value","tap","sleep","interruptible","zipRight","ensuring","sync","forkIn"],"sources":["../../../src/internal/rcRef.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}