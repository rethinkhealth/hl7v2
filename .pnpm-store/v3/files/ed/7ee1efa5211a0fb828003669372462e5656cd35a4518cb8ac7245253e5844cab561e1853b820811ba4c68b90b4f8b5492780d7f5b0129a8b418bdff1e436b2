{"version":3,"file":"supervisor.js","names":["_Function","require","_GlobalValue","MutableRef","_interopRequireWildcard","_Predicate","SortedSet","core","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","SupervisorSymbolKey","SupervisorTypeId","exports","Symbol","for","supervisorVariance","_T","_","ProxySupervisor","underlying","value0","constructor","value","onStart","context","effect","parent","fiber","onEnd","onEffect","onSuspend","onResume","map","pipe","zip","right","Zip","left","_tag","isZip","self","hasProperty","isTagged","Track","fibers","Set","sync","Array","from","_context","_effect","_parent","add","_value","delete","_fiber","onRun","execution","Const","FibersIn","ref","remove","unsafeTrack","track","fromEffect","none","globalValue","void","fibersIn"],"sources":["../../../src/internal/supervisor.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}