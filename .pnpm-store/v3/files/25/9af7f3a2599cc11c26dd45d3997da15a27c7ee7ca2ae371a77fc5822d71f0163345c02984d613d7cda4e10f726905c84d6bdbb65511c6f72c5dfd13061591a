{"version":3,"file":"pool.js","names":["Context","Duration","Effectable","dual","identity","Iterable","Option","pipeArguments","hasProperty","coreEffect","core","defaultServices","circular","fiberRuntime","internalQueue","PoolTypeId","Symbol","for","poolVariance","_E","_","_A","isPool","u","makeWith","options","uninterruptibleMask","restore","flatMap","context","scope","get","scopeTag","acquire","mapInputContext","input","merge","pool","PoolImpl","concurrency","min","max","strategy","Math","targetUtilization","initialize","tap","forkDaemon","resize","fiber","addFinalizer","interruptFiber","runStrategy","run","succeed","pipe","zipLeft","shutdown","make","size","strategyNoop","makeWithTTL","timeToLiveStrategy","strategyCreationTTL","timeToLive","strategyUsageTTL","self","invalidate","item","Class","minSize","maxSize","isShuttingDown","semaphore","items","Set","available","availableLatch","unsafeMakeLatch","invalidated","waiters","constructor","unsafeMakeSemaphore","allocate","acquireUseRelease","scopeMake","scopeExtend","exit","finalizer","catchAllCause","close","reportUnhandledError","refCount","disableReclaim","add","as","_tag","onAcquire","zipRight","void","currentUsage","count","targetSize","utilization","target","ceil","activeSize","resizeLoop","suspend","toAcquire","reclaim","match","onNone","onSome","replicateEffect","open","some","resizeSemaphore","withPermits","getPoolItem","take","interrupt","withPermitsIfAvailable","forkIn","interruptible","loop","unsafeHead","unsafeClose","await","ensuring","sync","delete","release","has","invalidatePoolItem","exitVoid","onInterrupt","commit","poolItem","value","uninterruptible","forEachSequentialDiscard","releaseAll","arguments","succeedNone","ttl","clockWith","clock","map","unbounded","queue","ttlMillis","toMillis","creationTimes","WeakMap","process","now","unsafeCurrentTimeMillis","created","remaining","delay","forever","set","offer","excess","head","filter","cause","withFiberRuntime","unhandledLogLevel","getFiberRef","currentUnhandledErrorLogLevel","log"],"sources":["../../../src/internal/pool.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}