{"version":3,"file":"rcMap.js","names":["Context","Duration","dual","identity","MutableHashMap","pipeArguments","coreEffect","core","circular","fiberRuntime","TypeId","Symbol","for","variance","_K","_A","_E","RcMapImpl","lookup","context","scope","idleTimeToLive","capacity","state","_tag","map","empty","semaphore","unsafeMakeSemaphore","constructor","pipe","arguments","make","options","withFiberRuntime","fiber","getFiberRef","currentContext","get","scopeTag","self","decode","undefined","Math","max","Number","POSITIVE_INFINITY","as","addFinalizer","suspend","void","forEachSequentialDiscard","entry","scopeClose","exitVoid","tap","clear","withPermits","self_","key","uninterruptibleMask","restore","getImpl","fnUntraced","interrupt","o","value","refCount","isFinite","size","fail","ExceededCapacityException","acquire","finalizer","deferredAwait","deferred","scopeMake","deferredMake","contextMap","Map","unsafeMap","mapInputContext","inputContext","forEach","set","unsafeMake","exit","flatMap","deferredDone","forkIn","expiresAt","release","clockWith","clock","has","remove","unsafeCurrentTimeMillis","toMillis","interruptibleMask","loop","now","remaining","sleep","millis","ensuring","sync","keys","impl","succeed","invalidate","interruptFiber","touch"],"sources":["../../../src/internal/rcMap.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}