{"version":3,"file":"subscriptionRef.js","names":["Effect","Effectable","dual","pipe","PubSub","Readable","Ref","Subscribable","Synchronized","circular_","ref_","stream","SubscriptionRefSymbolKey","SubscriptionRefTypeId","Symbol","for","subscriptionRefVariance","_A","_","SubscriptionRefImpl","Class","ref","pubsub","semaphore","TypeId","RefTypeId","refVariance","SynchronizedRefTypeId","synchronizedVariance","constructor","get","commit","changes","flatMap","a","map","fromPubSub","scoped","s","concat","make","withPermits","unwrapScoped","modify","f","modifyEffect","succeed","b","set","as","zipLeft","publish","self","value","all","unbounded","makeSemaphore"],"sources":["../../../src/internal/subscriptionRef.ts"],"sourcesContent":[null],"mappings":"AAAA,OAAO,KAAKA,MAAM,MAAM,cAAc;AACtC,OAAO,KAAKC,UAAU,MAAM,kBAAkB;AAC9C,SAASC,IAAI,EAAEC,IAAI,QAAQ,gBAAgB;AAC3C,OAAO,KAAKC,MAAM,MAAM,cAAc;AACtC,OAAO,KAAKC,QAAQ,MAAM,gBAAgB;AAC1C,OAAO,KAAKC,GAAG,MAAM,WAAW;AAEhC,OAAO,KAAKC,YAAY,MAAM,oBAAoB;AAElD,OAAO,KAAKC,YAAY,MAAM,uBAAuB;AACrD,OAAO,KAAKC,SAAS,MAAM,sBAAsB;AACjD,OAAO,KAAKC,IAAI,MAAM,UAAU;AAChC,OAAO,KAAKC,MAAM,MAAM,aAAa;AAErC;AACA,MAAMC,wBAAwB,GAAG,wBAAwB;AAEzD;AACA,OAAO,MAAMC,qBAAqB,gBAA0CC,MAAM,CAACC,GAAG,CACpFH,wBAAwB,CACgB;AAE1C,MAAMI,uBAAuB,GAAG;EAC9B;EACAC,EAAE,EAAGC,CAAM,IAAKA;CACjB;AAED;AACA,MAAMC,mBAA8B,SAAQlB,UAAU,CAACmB,KAAQ;EAOlDC,GAAA;EACAC,MAAA;EACAC,SAAA;EARF,CAAClB,QAAQ,CAACmB,MAAM,IAAqBnB,QAAQ,CAACmB,MAAM;EACpD,CAACjB,YAAY,CAACiB,MAAM,IAAyBjB,YAAY,CAACiB,MAAM;EAChE,CAAClB,GAAG,CAACmB,SAAS,IAAIf,IAAI,CAACgB,WAAW;EAClC,CAAClB,YAAY,CAACmB,qBAAqB,IAAIlB,SAAS,CAACmB,oBAAoB;EACrE,CAACf,qBAAqB,IAAIG,uBAAuB;EAC1Da,YACWR,GAAe,EACfC,MAAwB,EACxBC,SAA2B;IAEpC,KAAK,EAAE;IAJE,KAAAF,GAAG,GAAHA,GAAG;IACH,KAAAC,MAAM,GAANA,MAAM;IACN,KAAAC,SAAS,GAATA,SAAS;IAGlB,IAAI,CAACO,GAAG,GAAGxB,GAAG,CAACwB,GAAG,CAAC,IAAI,CAACT,GAAG,CAAC;EAC9B;EACAU,MAAMA,CAAA;IACJ,OAAO,IAAI,CAACD,GAAG;EACjB;EACSA,GAAG;EACZ,IAAIE,OAAOA,CAAA;IACT,OAAO7B,IAAI,CACTG,GAAG,CAACwB,GAAG,CAAC,IAAI,CAACT,GAAG,CAAC,EACjBrB,MAAM,CAACiC,OAAO,CAAEC,CAAC,IACflC,MAAM,CAACmC,GAAG,CACRxB,MAAM,CAACyB,UAAU,CAAC,IAAI,CAACd,MAAM,EAAE;MAAEe,MAAM,EAAE;IAAI,CAAE,CAAC,EAC/CC,CAAC,IACA3B,MAAM,CAAC4B,MAAM,CACX5B,MAAM,CAAC6B,IAAI,CAACN,CAAC,CAAC,EACdI,CAAC,CACF,CACJ,CACF,EACD,IAAI,CAACf,SAAS,CAACkB,WAAW,CAAC,CAAC,CAAC,EAC7B9B,MAAM,CAAC+B,YAAY,CACpB;EACH;EACAC,MAAMA,CAAIC,CAA4B;IACpC,OAAO,IAAI,CAACC,YAAY,CAAEX,CAAC,IAAKlC,MAAM,CAAC8C,OAAO,CAACF,CAAC,CAACV,CAAC,CAAC,CAAC,CAAC;EACvD;EACAW,YAAYA,CAAUD,CAAiD;IACrE,OAAOzC,IAAI,CACTG,GAAG,CAACwB,GAAG,CAAC,IAAI,CAACT,GAAG,CAAC,EACjBrB,MAAM,CAACiC,OAAO,CAACW,CAAC,CAAC,EACjB5C,MAAM,CAACiC,OAAO,CAAC,CAAC,CAACc,CAAC,EAAEb,CAAC,CAAC,KACpB/B,IAAI,CACFG,GAAG,CAAC0C,GAAG,CAAC,IAAI,CAAC3B,GAAG,EAAEa,CAAC,CAAC,EACpBlC,MAAM,CAACiD,EAAE,CAACF,CAAC,CAAC,EACZ/C,MAAM,CAACkD,OAAO,CAAC9C,MAAM,CAAC+C,OAAO,CAAC,IAAI,CAAC7B,MAAM,EAAEY,CAAC,CAAC,CAAC,CAC/C,CACF,EACD,IAAI,CAACX,SAAS,CAACkB,WAAW,CAAC,CAAC,CAAC,CAC9B;EACH;;AAGF;AACA,OAAO,MAAMX,GAAG,GAAOsB,IAAwC,IAAuB9C,GAAG,CAACwB,GAAG,CAACsB,IAAI,CAAC/B,GAAG,CAAC;AAEvG;AACA,OAAO,MAAMmB,IAAI,GAAOa,KAAQ,IAC9BlD,IAAI,CACFH,MAAM,CAACsD,GAAG,CAAC,CACTlD,MAAM,CAACmD,SAAS,EAAK,EACrBjD,GAAG,CAACkC,IAAI,CAACa,KAAK,CAAC,EACfrD,MAAM,CAACwD,aAAa,CAAC,CAAC,CAAC,CACxB,CAAC,EACFxD,MAAM,CAACmC,GAAG,CAAC,CAAC,CAACb,MAAM,EAAED,GAAG,EAAEE,SAAS,CAAC,KAAK,IAAIJ,mBAAmB,CAACE,GAAG,EAAEC,MAAM,EAAEC,SAAS,CAAC,CAAC,CAC1F;AAEH;AACA,OAAO,MAAMoB,MAAM,gBAAGzC,IAAI,CAMxB,CAAC,EAAE,CACHkD,IAAwC,EACxCR,CAA4B,KACPQ,IAAI,CAACT,MAAM,CAACC,CAAC,CAAC,CAAC;AAEtC;AACA,OAAO,MAAMC,YAAY,gBAAG3C,IAAI,CAQ9B,CAAC,EAAE,CACHkD,IAAwC,EACxCR,CAAiD,KACtBQ,IAAI,CAACP,YAAY,CAACD,CAAC,CAAC,CAAC;AAElD;AACA,OAAO,MAAMI,GAAG,gBAAG9C,IAAI,CAMrB,CAAC,EAAE,CACHkD,IAAwC,EACxCC,KAAQ,KAERlD,IAAI,CACFG,GAAG,CAAC0C,GAAG,CAACI,IAAI,CAAC/B,GAAG,EAAEgC,KAAK,CAAC,EACxBrD,MAAM,CAACkD,OAAO,CAAC9C,MAAM,CAAC+C,OAAO,CAACC,IAAI,CAAC9B,MAAM,EAAE+B,KAAK,CAAC,CAAC,EAClDD,IAAI,CAAC7B,SAAS,CAACkB,WAAW,CAAC,CAAC,CAAC,CAC9B,CAAC","ignoreList":[]}