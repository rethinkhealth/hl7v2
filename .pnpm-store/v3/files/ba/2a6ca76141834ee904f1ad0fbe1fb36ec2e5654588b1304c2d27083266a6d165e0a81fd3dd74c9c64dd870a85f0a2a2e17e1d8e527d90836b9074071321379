{"version":3,"file":"LayerMap.js","names":["Context","Effect","FiberRefsPatch","identity","core","Layer","RcMap","Runtime","Scope","TypeId","Symbol","for","make","fnUntraced","lookup","options","context","memoMap","unsafeMap","has","CurrentMemoMap","key","get","makeMemoMap","rcMap","scopeWith","scope","diffFiberRefs","buildWithMemoMap","pipe","map","patch","layer","scopedContext","withFiberRuntime","fiber","unsafeGet","currentContext","oldRefs","getFiberRefs","newRefs","id","revert","diff","setFiberRefs","as","addFinalizerExit","void","runtimeEffect","fiberRefs","succeed","runtimeFlags","defaultRuntime","idleTimeToLive","unwrapScoped","runtime","flatMap","invalidate","fromRecord","layers","Service","Err","globalThis","Error","limit","stackTraceLimit","creationError","TagClass","TagClass_","Object","setPrototypeOf","getPrototypeOf","GenericTag","defineProperty","stack","DefaultWithoutDependencies","scoped","Default","dependencies","length","provide","layerMap"],"sources":["../../src/LayerMap.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}