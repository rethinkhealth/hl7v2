{"version":3,"file":"LayerMap.js","names":["Context","_interopRequireWildcard","require","Effect","FiberRefsPatch","_Function","core","Layer","RcMap","Runtime","Scope","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","make","fnUntraced","lookup","options","context","memoMap","unsafeMap","CurrentMemoMap","key","makeMemoMap","rcMap","scopeWith","scope","diffFiberRefs","buildWithMemoMap","pipe","map","patch","layer","scopedContext","withFiberRuntime","fiber","unsafeGet","currentContext","oldRefs","getFiberRefs","newRefs","id","revert","diff","setFiberRefs","as","addFinalizerExit","void","runtimeEffect","fiberRefs","succeed","runtimeFlags","defaultRuntime","idleTimeToLive","identity","unwrapScoped","runtime","flatMap","invalidate","fromRecord","layers","Service","Err","globalThis","Error","limit","stackTraceLimit","creationError","TagClass","TagClass_","setPrototypeOf","getPrototypeOf","GenericTag","stack","DefaultWithoutDependencies","scoped","Default","dependencies","length","provide","layerMap"],"sources":["../../src/LayerMap.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}