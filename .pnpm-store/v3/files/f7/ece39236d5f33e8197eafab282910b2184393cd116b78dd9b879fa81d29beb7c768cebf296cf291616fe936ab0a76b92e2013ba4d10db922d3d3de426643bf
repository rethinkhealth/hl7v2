{"version":3,"file":"FiberSet.js","names":["Cause","_interopRequireWildcard","require","Deferred","Effect","Exit","Fiber","FiberId","_Function","HashSet","Inspectable","Iterable","_Pipeable","Predicate","Runtime","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TypeId","exports","Symbol","for","isFiberSet","u","hasProperty","Proto","iterator","state","_tag","empty","backing","toString","format","toJSON","_id","NodeInspectSymbol","pipe","pipeArguments","arguments","unsafeMake","deferred","self","create","make","acquireRelease","map","Set","withFiberRuntime","parent","void","fibers","interruptAllAs","combine","id","internalFiberId","intoDeferred","makeRuntime","flatMap","runtime","makeRuntimePromise","runtimePromise","internalFiberIdId","isInternalInterruption","reduceWithContext","undefined","emptyCase","constFalse","failCase","dieCase","interruptCase","_","fiberId","ids","sequentialCase","left","right","parallelCase","unsafeAdd","dual","args","fiber","options","unsafeInterruptAsFork","interruptAs","none","add","addObserver","exit","delete","isFailure","propagateInterruption","cause","isInterruptedOnly","unsafeDone","fiberIdWith","sync","clear","clearFiber","forEach","constInterruptedFiber","runFork","interrupt","run","isEffect","effect","runImpl","tap","forkDaemon","Promise","resolve","reject","isSuccess","value","squash","size","join","await","awaitEmpty","whileLoop","while","body","unsafeHead","step","constVoid"],"sources":["../../src/FiberSet.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}