{"version":3,"file":"tSemaphore.js","names":["Cause","_interopRequireWildcard","require","Effect","_Function","STM","core","tRef","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","TSemaphoreSymbolKey","TSemaphoreTypeId","exports","Symbol","for","TSemaphoreImpl","permits","constructor","make","map","acquire","self","acquireN","dual","withSTMRuntime","driver","IllegalArgumentException","value","unsafeGet","journal","retry","succeed","unsafeSet","available","release","releaseN","current","withPermit","semaphore","withPermits","uninterruptibleMask","restore","zipRight","commit","ensuring","withPermitScoped","withPermitsScoped","acquireReleaseInterruptible","unsafeMakeSemaphore","TRefImpl"],"sources":["../../../../src/internal/stm/tSemaphore.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}