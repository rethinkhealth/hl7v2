{"version":3,"file":"queue.js","names":["Arr","Chunk","Effectable","dual","pipe","MutableQueue","MutableRef","Option","pipeArguments","hasProperty","core","fiberRuntime","EnqueueSymbolKey","EnqueueTypeId","Symbol","for","DequeueSymbolKey","DequeueTypeId","QueueStrategySymbolKey","QueueStrategyTypeId","BackingQueueSymbolKey","BackingQueueTypeId","queueStrategyVariance","_A","_","backingQueueVariance","enqueueVariance","_In","dequeueVariance","_Out","QueueImpl","Class","queue","takers","shutdownHook","shutdownFlag","strategy","constructor","arguments","commit","take","capacity","size","suspend","catchAll","unsafeSize","interrupt","get","none","some","length","surplusSize","isEmpty","map","isFull","shutdown","uninterruptible","withFiberRuntime","state","set","forEachConcurrentDiscard","unsafePollAll","d","deferredInterruptWith","id","zipRight","whenEffect","deferredSucceed","asVoid","isShutdown","sync","awaitShutdown","deferredAwait","isActive","unsafeOffer","value","noRemaining","taker","poll","EmptyMutableQueue","unsafeCompleteDeferred","succeeded","offer","unsafeCompleteTakers","succeed","handleSurplus","offerAll","iterable","values","fromIterable","pTakers","unsafePollN","empty","forTakers","remaining","splitAt","i","item","surplus","unsafeOnQueueEmptySpace","deferred","deferredUnsafeMake","onInterrupt","unsafeRemove","takeAll","pollUpTo","Number","POSITIVE_INFINITY","takeUpTo","max","takeBetween","min","takeRemainderLoop","self","acc","flatMap","bs","b","appendAll","append","isQueue","u","isEnqueue","isDequeue","bounded","requestedCapacity","make","backingQueueFromMutableQueue","backPressureStrategy","dropping","droppingStrategy","sliding","slidingStrategy","unbounded","unsafeMake","deferredMake","BackingQueueFromMutableQueue","mutable","def","limit","elements","element","head","takeN","n","BackPressureStrategy","DroppingStrategy","SlidingStrategy","putters","onCompleteTakersWithEmptyQueue","putter","fiberId","isLastItem","void","keepPolling","offered","unsafeOfferAll","prepend","stuff","filter","_iterable","_queue","_takers","_isShutdown","iterator","next","offering","done","a","deferredUnsafeDone","as"],"sources":["../../../src/internal/queue.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}