{"version":3,"file":"pool.js","names":["Context","_interopRequireWildcard","require","Duration","Effectable","_Function","Iterable","Option","_Pipeable","_Predicate","coreEffect","core","defaultServices","circular","fiberRuntime","internalQueue","e","t","WeakMap","r","n","__esModule","o","i","f","__proto__","default","has","get","set","hasOwnProperty","call","Object","defineProperty","getOwnPropertyDescriptor","PoolTypeId","exports","Symbol","for","poolVariance","_E","_","_A","isPool","u","hasProperty","makeWith","options","uninterruptibleMask","restore","flatMap","context","scope","scopeTag","acquire","mapInputContext","input","merge","pool","PoolImpl","concurrency","min","max","strategy","Math","targetUtilization","initialize","tap","forkDaemon","resize","fiber","addFinalizer","interruptFiber","runStrategy","run","succeed","pipe","zipLeft","shutdown","make","size","strategyNoop","makeWithTTL","timeToLiveStrategy","strategyCreationTTL","timeToLive","strategyUsageTTL","self","invalidate","dual","item","Class","minSize","maxSize","isShuttingDown","semaphore","items","Set","available","availableLatch","unsafeMakeLatch","invalidated","waiters","constructor","unsafeMakeSemaphore","allocate","acquireUseRelease","scopeMake","scopeExtend","exit","finalizer","catchAllCause","close","reportUnhandledError","refCount","disableReclaim","add","as","_tag","onAcquire","zipRight","void","currentUsage","count","targetSize","utilization","target","ceil","activeSize","resizeLoop","suspend","toAcquire","reclaim","match","onNone","onSome","replicateEffect","open","some","resizeSemaphore","withPermits","getPoolItem","take","interrupt","withPermitsIfAvailable","forkIn","interruptible","loop","unsafeHead","unsafeClose","await","ensuring","sync","delete","release","invalidatePoolItem","exitVoid","onInterrupt","commit","poolItem","value","uninterruptible","forEachSequentialDiscard","releaseAll","pipeArguments","arguments","succeedNone","ttl","clockWith","clock","map","unbounded","queue","ttlMillis","toMillis","creationTimes","identity","process","now","unsafeCurrentTimeMillis","created","remaining","delay","forever","offer","excess","head","filter","cause","withFiberRuntime","unhandledLogLevel","getFiberRef","currentUnhandledErrorLogLevel","log"],"sources":["../../../src/internal/pool.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]}